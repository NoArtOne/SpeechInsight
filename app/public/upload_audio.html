<!DOCTYPE html>
<html>

<head>
    <title>Upload Audio</title>
</head>

<body>
    <h1>Upload Audio</h1>
    <form onsubmit="upload_audio(event)" enctype="multipart/form-data">
        <input type="file" name="file" accept=".mp3,.wav" required> <br><br>
        <input type="submit" value="Upload">
    </form>
    <p><a href="/user_profile">Back to Profile</a></p>
</body>

</html>
<script>
    function upload_audio(event) {
        event.preventDefault();

        // const formData = new FormData(document.getElementById('verifyForm'));

        fetch("/api/audios", {
            method: 'POST',
            body: formData,
            headers: {
                Authorization: `Bearer ${localStorage.getItem("access_token")}`
            }
        })
            .then(response => {
                if (response.ok) {
                    alert("Аудио успешно загружено")
                }
                else {
                    alert("Аудио загрузилось с ошибкой" + response.error)
                }

            }

            );
    };
</script>